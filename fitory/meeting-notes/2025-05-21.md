# ğŸ“ 2ì¼ì°¨ ê°œë°œì¼ì§€ (2025.05.21)

## ğŸ“Œ ì£¼ìš” ì§„í–‰ ë‚´ìš©

### 1. ì—”í‹°í‹° ë„ì¶œ
- ìš”êµ¬ì‚¬í•­ ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ í•µì‹¬ ë„ë©”ì¸ ë„ì¶œ
- **ì£¼ìš” ì—”í‹°í‹°**
  - `User`: ì‚¬ìš©ì ê³„ì • ë° ê±´ê°•ì •ë³´ ì €ì¥
  - `Post`: ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒìš© ê²Œì‹œê¸€
  - `Comment`: ê²Œì‹œê¸€ì— ëŒ€í•œ ëŒ“ê¸€
  - `MealPlan`: ì¶”ì²œ ì‹ë‹¨ ì •ë³´ ì €ì¥
  - `WorkoutPlan`: ìš´ë™ ë£¨í‹´ ë° ìˆ˜í–‰ ì •ë³´ ì €ì¥

---

### 2. ERD ì„¤ê³„ ë° í…Œì´ë¸” ì •ì˜
- ë„ì¶œëœ ì—”í‹°í‹° ê°„ ê´€ê³„ ì •ì˜ (1:N, N:M ë“±)
- ì •ê·œí™”ë¥¼ í†µí•´ ì¤‘ë³µ ì œê±° ë° ëª…í™•í•œ ì±…ì„ ë¶„ë¦¬
- ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ê¸°ì¤€ì— ë§ì¶° ì„¤ê³„

> ğŸ“· **ERD ë‹¤ì´ì–´ê·¸ë¨:**  
> ![ERD ì„¤ê³„ë„](./images/erd_day2.png)  
> *(íŒŒì¼ ìœ„ì¹˜: `/images/erd_day2.png` - ì¶”í›„ Notion ë˜ëŠ” GitHub READMEì— ì²¨ë¶€)*

---

### 3. ì£¼ìš” í…Œì´ë¸” ì •ì˜ (êµ¬ì¡° í‹€ë§Œ)

#### âœ… USER í…Œì´ë¸”
| í•„ë“œëª…           | íƒ€ì…         | ì œì•½ì¡°ê±´         | ì„¤ëª…                 |
|------------------|--------------|------------------|----------------------|
| id               | VARCHAR      | PK, UNIQUE       | ì‚¬ìš©ì ì•„ì´ë””         |
| password         | VARCHAR      | NOT NULL         | ë¹„ë°€ë²ˆí˜¸ (ì•”í˜¸í™”)     |
| nickname         | VARCHAR      | UNIQUE, NOT NULL | ë‹‰ë„¤ì„               |
| gender           | VARCHAR(10)  | NOT NULL         | ì„±ë³„                 |
| age              | INT          | NOT NULL         | ë‚˜ì´                 |
| height           | FLOAT        | NOT NULL         | í‚¤(cm)               |
| weight           | FLOAT        | NOT NULL         | ì²´ì¤‘(kg)             |
| goal             | VARCHAR      | NOT NULL         | ê°ëŸ‰/ìœ ì§€/ì¦ëŸ‰        |
| chronic_diseases | TEXT         |                  | ê¸°ì €ì§ˆí™˜/ê±´ê°•ì •ë³´     |

---

#### âœ… POST í…Œì´ë¸”
| í•„ë“œëª…     | íƒ€ì…      | ì œì•½ì¡°ê±´            | ì„¤ëª…           |
|------------|-----------|---------------------|----------------|
| id         | BIGINT    | PK, AUTO_INCREMENT  | ê²Œì‹œê¸€ ID      |
| user_id    | VARCHAR   | FK â†’ User(id)       | ì‘ì„±ì         |
| title      | VARCHAR   | NOT NULL            | ê²Œì‹œê¸€ ì œëª©    |
| content    | TEXT      | NOT NULL            | ê²Œì‹œê¸€ ë‚´ìš©    |
| created_at | TIMESTAMP | DEFAULT NOW()       | ìƒì„± ì‹œê°      |

---

#### âœ… COMMENT í…Œì´ë¸”
| í•„ë“œëª…     | íƒ€ì…      | ì œì•½ì¡°ê±´            | ì„¤ëª…             |
|------------|-----------|---------------------|------------------|
| id         | BIGINT    | PK, AUTO_INCREMENT  | ëŒ“ê¸€ ID          |
| post_id    | BIGINT    | FK â†’ Post(id)       | ëŒ€ìƒ ê²Œì‹œê¸€      |
| user_id    | VARCHAR   | FK â†’ User(id)       | ì‘ì„±ì           |
| content    | TEXT      | NOT NULL            | ëŒ“ê¸€ ë‚´ìš©        |
| created_at | TIMESTAMP | DEFAULT NOW()       | ì‘ì„±ì¼           |

---

#### âœ… MEAL_PLAN í…Œì´ë¸”
| í•„ë“œëª…     | íƒ€ì…    | ì œì•½ì¡°ê±´       | ì„¤ëª…                     |
|------------|---------|----------------|--------------------------|
| id         | BIGINT  | PK             | ì‹ë‹¨ ê³ ìœ  ID             |
| user_id    | VARCHAR | FK             | ëŒ€ìƒ ì‚¬ìš©ì              |
| date       | DATE    | NOT NULL       | ì¶”ì²œ ë‚ ì§œ                |
| meal_time  | VARCHAR | NOT NULL       | ì•„ì¹¨/ì ì‹¬/ì €ë…           |
| food_items | TEXT    | NOT NULL       | ìŒì‹ ë¦¬ìŠ¤íŠ¸ (JSON ê°€ëŠ¥)  |
| calories   | FLOAT   |                | ì´ ì¹¼ë¡œë¦¬                |

---

#### âœ… WORKOUT_PLAN í…Œì´ë¸”
| í•„ë“œëª…          | íƒ€ì…    | ì œì•½ì¡°ê±´       | ì„¤ëª…                         |
|------------------|---------|----------------|------------------------------|
| id               | BIGINT  | PK             | ìš´ë™ ê³„íš ID                 |
| user_id          | VARCHAR | FK             | ëŒ€ìƒ ì‚¬ìš©ì                  |
| date             | DATE    | NOT NULL       | ìš´ë™ ìˆ˜í–‰ì¼                  |
| workout_type     | VARCHAR | NOT NULL       | ìš´ë™ ì¢…ë¥˜ (ì „ì‹ /ë¶€ìœ„ë³„ ë“±)   |
| duration         | INT     |                | ì†Œìš” ì‹œê°„(ë¶„)                |
| calories_burned  | FLOAT   |                | ì†Œëª¨ ì¹¼ë¡œë¦¬                  |

---

### 4. JPA ê¸°ë°˜ Entity ìƒì„±
- Lombok í™œìš©í•˜ì—¬ boilerplate ì½”ë“œ ì¶•ì†Œ
- Spring Data JPA ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ Entity êµ¬ì„±

```java
@Entity
@Table(name = "user")
@Getter
@Setter
@NoArgsConstructor
@AllArgsConstructor
public class User {
    @Id
    private String id;

    private String password;
    private String nickname;
    private String gender;
    private int age;
    private float height;
    private float weight;
    private String goal;
    private String chronicDiseases;
}
```
 - ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ Post, Comment, MealPlan, WorkoutPlan ì—”í‹°í‹° ìƒì„± ì™„ë£Œ
---


### ğŸ›  5. MariaDB ì—°ë™ ì„¤ì •

#### ğŸ“„ ì„¤ì • ê°œìš”

- Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ MariaDB ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ì„ ìœ„í•œ ì„¤ì •ì„ `application.yml` ë˜ëŠ” `application.properties` íŒŒì¼ì— êµ¬ì„±
- DB ì ‘ì† í…ŒìŠ¤íŠ¸ ë° ì´ˆê¸° ë§ˆì´ê·¸ë ˆì´ì…˜ ì •ìƒ ë™ì‘ í™•ì¸

---

#### âš™ï¸ application.yml ì˜ˆì‹œ

```yaml
spring:
  datasource:
    url: jdbc:mariadb://localhost:3306/fitory
    username: root
    password: [ë¹„ë°€ë²ˆí˜¸]
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    database-platform: org.hibernate.dialect.MariaDBDialect
```

## ğŸ—“ ë‚´ì¼ ê³„íš (3ì¼ì°¨)

- íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ ê¸°ëŠ¥ ê°œë°œ ì°©ìˆ˜  
- ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” ë° ìœ íš¨ì„± ê²€ì¦  
- ì‚¬ìš©ì ì •ë³´ ë“±ë¡ ë° ì¡°íšŒ í…ŒìŠ¤íŠ¸  
